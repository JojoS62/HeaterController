// Auto-generated by Mbed CE.  Edits will be erased when CMake is rerun.
{
	"version": "2.0.0",
	"tasks": [
		// Build for target HeaterController
		{
			"label": "Build HeaterController",
			"type": "shell",
			"command": "/opt/cmake-3.26.4-linux-x86_64/bin/cmake",
			"args": ["--build", "/home/jojo/projects/HeaterController/build/F769NI-STM32CUBE-Debug", "--target", "HeaterController"],
		},
		// Build HeaterController and run the GDB server
		{
			"label": "Build HeaterController and start GDB server",
			"dependsOn": ["Build HeaterController", "GDB Server"],
			"dependsOrder": "sequence",
		},
		// Build for target Hello
		{
			"label": "Build Hello",
			"type": "shell",
			"command": "/opt/cmake-3.26.4-linux-x86_64/bin/cmake",
			"args": ["--build", "/home/jojo/projects/HeaterController/build/F769NI-STM32CUBE-Debug", "--target", "Hello"],
		},
		// Build Hello and run the GDB server
		{
			"label": "Build Hello and start GDB server",
			"dependsOn": ["Build Hello", "GDB Server"],
			"dependsOrder": "sequence",
		},
		{
			"label": "GDB Server",
			"type": "shell",
			"command": "/opt/cmake-3.26.4-linux-x86_64/bin/cmake",
			"args": ["-E", "env", "LD_LIBRARY_PATH=/opt/st/stm32cubeide_1.16.1/plugins/com.st.stm32cube.ide.mcu.externaltools.stlink-gdb-server.linux64_2.1.400.202404281720/tools/bin/native/linux_x64", "/opt/st/stm32cubeide_1.16.1/plugins/com.st.stm32cube.ide.mcu.externaltools.stlink-gdb-server.linux64_2.1.400.202404281720/tools/bin/ST-LINK_gdbserver", "--swd", "-cp", "/opt/st/stm32cubeide_1.16.1/plugins/com.st.stm32cube.ide.mcu.externaltools.cubeprogrammer.linux64_2.1.400.202404281720/tools/bin", "-p", "23331", "--halt"],
			"isBackground": true,
			// This task is run to start the GDB server, so that the launch configuration can connect to it.
      		// Problem is, it's a GDB server, and since it never exits, VSCode
     	 	// will never start the debug session. All this is needed so VSCode just lets it run.
			"problemMatcher": [
				{
					"pattern": [
						{
							"regexp": "________________",
							"file": 1,
							"location": 2,
							"message": 3
						}
					],
					"background": {
						"activeOnStart": true,
						"beginsPattern": ".*",
						"endsPattern": ".*",
					}
				}
			],
		}
	]

}
	